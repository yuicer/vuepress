<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DownloadFile | yuicer</title>
    <meta name="generator" content="VuePress 1.5.3">
    <link rel="icon" href="https://img.yuicer.com/me.config/me.png">
    <meta name="description" content="colorful wanted">
    <link rel="preload" href="/assets/css/0.styles.ffb71519.css" as="style"><link rel="preload" href="/assets/js/app.8262f120.js" as="script"><link rel="preload" href="/assets/js/5.e6504259.js" as="script"><link rel="preload" href="/assets/js/3.c45ac5e6.js" as="script"><link rel="preload" href="/assets/js/25.4cbafa45.js" as="script"><link rel="prefetch" href="/assets/js/1.cb2da64e.js"><link rel="prefetch" href="/assets/js/10.ecc8db5c.js"><link rel="prefetch" href="/assets/js/11.aa7f837a.js"><link rel="prefetch" href="/assets/js/12.b3ce3282.js"><link rel="prefetch" href="/assets/js/13.6387423c.js"><link rel="prefetch" href="/assets/js/14.a02b309a.js"><link rel="prefetch" href="/assets/js/15.582f94ab.js"><link rel="prefetch" href="/assets/js/16.a1ecc7f5.js"><link rel="prefetch" href="/assets/js/17.467e7c9c.js"><link rel="prefetch" href="/assets/js/18.33e6bed8.js"><link rel="prefetch" href="/assets/js/19.f04b04b6.js"><link rel="prefetch" href="/assets/js/20.12e44737.js"><link rel="prefetch" href="/assets/js/21.817d5ccb.js"><link rel="prefetch" href="/assets/js/22.19a7d06a.js"><link rel="prefetch" href="/assets/js/23.5d440780.js"><link rel="prefetch" href="/assets/js/24.86d64ade.js"><link rel="prefetch" href="/assets/js/26.51179f86.js"><link rel="prefetch" href="/assets/js/27.507e2f00.js"><link rel="prefetch" href="/assets/js/28.97cf2eea.js"><link rel="prefetch" href="/assets/js/29.f555f172.js"><link rel="prefetch" href="/assets/js/30.264a884d.js"><link rel="prefetch" href="/assets/js/31.d9fe96c4.js"><link rel="prefetch" href="/assets/js/32.a3bce440.js"><link rel="prefetch" href="/assets/js/33.26491496.js"><link rel="prefetch" href="/assets/js/34.4e872ffb.js"><link rel="prefetch" href="/assets/js/35.ac4b3b24.js"><link rel="prefetch" href="/assets/js/4.be308c07.js"><link rel="prefetch" href="/assets/js/6.b216ed74.js"><link rel="prefetch" href="/assets/js/7.9a79d26d.js"><link rel="prefetch" href="/assets/js/8.75ec8028.js"><link rel="prefetch" href="/assets/js/9.6a5764bc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ffb71519.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" style="background-image:url(https://img.yuicer.com/bg/winter.jpg),linear-gradient(#ccc 0%,#ccc 100%);background-attachment:fixed;background-position-x:50%;background-position-y:0%;background-blend-mode:multiply;background-repeat:no-repeat;background-size:cover;" data-v-7024d1ce data-v-15f16916><header class="navbar" data-v-7024d1ce><a href="/" class="home-link router-link-active"><!----> <span class="site-name">yuicer</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Links" class="dropdown-title"><span class="title">Links</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://twitter.com/yuicer1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Twitter
</a></li><li class="dropdown-item"><!----> <a href="https://space.bilibili.com/3069623" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blibili
</a></li></ul></div></div> <a href="https://github.com/yuicer/vuepress-theme-yuicer" target="_blank" rel="noopener noreferrer" class="repo-link">GitHub</a></nav></div></header> <div class="wrapper" data-v-7024d1ce><main class="page" data-v-7024d1ce data-v-15f16916> <div class="page-title" data-v-7024d1ce data-v-15f16916>DownloadFile</div> <div class="tags" data-v-7024d1ce data-v-15f16916><div data-v-7024d1ce data-v-15f16916><a href="/tag/砖头/" data-v-15f16916>砖头</a></div> <div class="time" data-v-7024d1ce data-v-15f16916><span data-v-7024d1ce data-v-15f16916>Dec 16  2019</span></div></div> <!----> <div class="theme-yuicer-content content__default" data-v-15f16916><p><a href="https://github.com/eligrey/FileSaver.js/wiki/Saving-a-remote-file" target="_blank" rel="noopener noreferrer">comes from<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="using-http-header"><a href="#using-http-header" class="header-anchor">#</a> Using Http Header</h2> <p><code>Content-Disposition</code> attachment header is the best preferred way to download files from the browser. It has better cross browser compatible, won't have any memory limit and it doesn't require any JavaScript.</p> <p><code>Content-Disposition: attachment; filename=&quot;filename.jpg&quot;; filename\*=&quot;filename.jpg&quot;</code></p> <blockquote><p>Directives</p> <blockquote><p>filename</p></blockquote></blockquote> <blockquote><blockquote><p>Is followed by a string containing the original name of the file transmitted. The filename is always optional and must not be used blindly by the application: path information should be stripped, and conversion to the server file system rules should be done. This parameter provides mostly indicative information. When used in combination with Content-Disposition: attachment, it is used as the default filename for an eventual 'Save As&quot; dialog presented to the user.</p></blockquote></blockquote> <blockquote><blockquote><p>filename*</p></blockquote></blockquote> <blockquote><blockquote><p>The parameters &quot;filename&quot; and &quot;filename*&quot; differ only in that &quot;filename*&quot; uses the encoding defined in RFC 5987. When both &quot;filename&quot; and &quot;filename*&quot; are present in a single header field value, &quot;filename*&quot; is preferred over &quot;filename&quot; when both are present and understood.</p></blockquote></blockquote> <h2 id="using-a-form-element-other-than-get-methods"><a href="#using-a-form-element-other-than-get-methods" class="header-anchor">#</a> Using a form element (Other than GET methods)</h2> <p>If the file is generated using a POST request you may think you would need to use ajax to complete the request and then download the result that you have buffered up in the memory while creating your Blob.</p> <p>That is a waste of time and memory. You can accomplish it with a regular <code>&lt;form&gt;</code> submission and then respond with a content-disposition attachment header. Ajax/JS isn't the solution to everything. It would be better to create a hidden form + fields and submit it using javascript then using ajax.</p> <h2 id="using-attribute-download"><a href="#using-attribute-download" class="header-anchor">#</a> Using attribute download</h2> <p>If you have no way to add the content-disposition attachment header a better way to save it directly to the hard drive would be to use the download attribute</p> <p><code>&lt;a href=&quot;uploads/screenshot.png&quot; download=&quot;cat.png&quot;&gt;download cat.png&lt;/a&gt;</code></p> <blockquote><p>This attribute instructs browsers to download a URL instead of navigating to it, so the user will be prompted to save it as a local file. If the attribute has a value, it is used as the pre-filled file name in the Save prompt (the user can still change the file name if they want). There are no restrictions on allowed values, though / and \ are converted to underscores. Most file systems limit some punctuation in file names, and browsers will adjust the suggested name accordingly.</p></blockquote> <blockquote><p>Notes:
This attribute can be used with blob: URLs and data: URLs to download content generated by JavaScript, such as pictures created in an image-editor Web app.
If the HTTP header Content-Disposition: gives a different filename than this attribute, the HTTP header takes priority over this attribute.
If Content-Disposition: is set to inline, Firefox prioritizes Content-Disposition, like the filename case, while Chrome prioritizes the download attribute.</p></blockquote></div> <div class="page-nav" data-v-7024d1ce data-v-15f16916><p class="inner" data-v-7024d1ce data-v-15f16916><span class="prev" data-v-7024d1ce data-v-15f16916><a href="/2019/12/24/convex-hull/" class="prev" data-v-15f16916><span data-v-15f16916>←</span>
            Convex Hull
          </a></span> <span class="next" data-v-7024d1ce data-v-15f16916><a href="/2019/12/01/countingimg/" class="next" data-v-15f16916>
            Counting Shape
            <span data-v-15f16916>→</span></a></span></p></div> </main></div></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.8262f120.js" defer></script><script src="/assets/js/5.e6504259.js" defer></script><script src="/assets/js/3.c45ac5e6.js" defer></script><script src="/assets/js/25.4cbafa45.js" defer></script>
  </body>
</html>
